(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/no-cover.53429f52.png"},20:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAL0lEQVR4AWOgKhgFo+A/KXjwWDAaBzA+vS2gHAw+C0gLEsKY5hYMnzgYtYByMAoAniljnb1dEH8AAAAASUVORK5CYII="},21:function(e,t,a){e.exports=a(49)},27:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),l=a.n(r),s=(a(27),a(7)),c=a.n(s),i=a(9),u=a(11),m=a(2),h=a(3),f=a(5),d=a(4),k=a(6),b=function(e){return o.a.createElement("div",{className:"header"},o.a.createElement("h1",{className:"header__title"},e.title))},p=function(e,t){var a,n;return function(){var o=this,r=arguments;a?(clearTimeout(n),n=setTimeout(function(){Date.now()-a>=t&&(e.apply(o,r),a=Date.now())},t-(Date.now()-a))):(e.apply(o,r),a=Date.now())}},g=function(e,t){var a;return function(){var n=this,o=arguments;clearTimeout(a),a=setTimeout(function(){return e.apply(n,o)},t)}},v={listStyle:"none",border:"1px solid #f99",borderTopWidth:"0px",marginTop:"0",maxHeight:"140px",width:"calc(450px)",paddingTop:"5px",paddingLeft:"15px",overflowY:"auto",display:"block",margin:"0 auto",background:"#FFF",position:"absolute",left:"50%",transform:"translateX(-50%)"},E=["Hey","Good To Know!","React for Dummies!"],S=function(e){var t=E.map(function(t){return o.a.createElement("li",{onClick:function(t){return function(t){console.log(t),e.liClick(t.currentTarget.innerText)}(t)},key:t,className:"list__item"},t)});return o.a.createElement("ul",{className:"list",style:v},t)},_=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={searchValue:null,placeholder:"",error:null,showSuggestions:!1,activeSuggestion:0},a.handleInputChange=function(e){var t=e.target.value;a.setState({searchValue:t,error:null,showSuggestions:!0})},a.onKeyDown=function(e){var t=a.state.activeSuggestion;if("Enter"===e.key)a.setState({activeSuggestion:0,showSuggestions:!1}),p(a.handleSubmit(),1200);else if(38===e.keyCode){if(console.log("sd"),0===t)return;a.setState({activeSuggestion:t-1})}else 40===e.keyCode&&(console.log("sd"),a.setState({activeSuggestion:t-1}))},a.listOnClick=function(e){console.log(e),a.setState({activeSuggestion:e})},a.handleError=function(e){a.setState({error:e})},a.onFocus=function(){a.setState({showSuggestions:!0})},a.onFocusOut=function(){console.log("sdsd"),a.setState({showSuggestions:!1})},a.handleSubmit=function(){var e=a.state.searchValue;a.setState({showSuggestions:!1}),e?a.props.getQueryRequest(e):a.handleError("cannot send empty query")},a}return Object(k.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.showSuggestions,r=a?o.a.createElement("div",{className:"search__error"},o.a.createElement("p",{className:"error__display"},a,"!")):null,l=n?o.a.createElement(S,{queries:this.props.queries,liClick:this.listOnClick}):null;return o.a.createElement("div",{className:"search"},o.a.createElement("h4",{className:"search__title"},"Type a book and get it's info"),o.a.createElement("input",{className:"search__input",placeholder:"Search Your Book",type:"search",onChange:function(t){return g(e.handleInputChange(t),200)},onFocus:this.onFocus,onBlur:this.onFocusOut,onKeyPress:function(t){return e.onKeyDown(t)}}),l,o.a.createElement("button",{className:"search__submit",onClick:p(this.handleSubmit,1500)},"Get Books"),r)}}]),t}(o.a.Component);_.defaultProps={queries:[]};var w=_,y=a(18),N=a.n(y),A={getBooks:function(){var e=Object(i.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://www.googleapis.com/books/v1/volumes?q="+t,"&maxResults=15&key=").concat("AIzaSyCP8bLTXq8d4o175cLxorMRVCTOB65588s"),e.next=3,N.a.get(a).then(function(e){return e.data.items}).catch(function(e){return e});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},O=a(19),C=a.n(O),j=a(20),B=a.n(j),I=function(e){return o.a.createElement("div",{className:"bookmark"},o.a.createElement("img",{src:B.a,alt:"add to shelf",onClick:e.bookmarkHandler}))},x=function(e){var t,a="string"===typeof e.author?e.author:e.author.join(", ");return o.a.createElement("div",{className:"bookcard"},o.a.createElement("div",{className:"bookcard__container"},o.a.createElement("div",{className:"bookcard__thumbnail"},o.a.createElement("img",{src:e.img||C.a,alt:""})),o.a.createElement("div",{className:"bookcard__body"},o.a.createElement(I,{bookmarkHandler:function(){var t={title:e.title,url:e.url,authors:a};e.bookmarkHandler(t)}}),o.a.createElement("h2",{className:"bookcard__author"},a),o.a.createElement("p",{className:"bookcard__publisher"},e.publisher),o.a.createElement("h1",{className:"bookcard__title"},e.title),o.a.createElement("p",{className:"bookcard__description"},(t=e.description)&&t.split(" ").some(function(e){return e.length>10})?"for further details, read more":t.length>20?"".concat(function(e){return e.split(" ").slice(0,20).join(" ")}(t)," . . ."):t),o.a.createElement("button",{className:"bookcard__btn",onClick:function(){window.location.href=e.url}},"Read More"))))},T=function(e){return o.a.createElement("div",{className:"bookgrid"},function(e,t){return e.map(function(e,a){return o.a.createElement(x,{bookmarkHandler:t.bookmarkHandler,publisher:e.publisher,author:e.author,title:e.title,url:e.url,img:e.img,description:e.description,key:"#".concat(a)})})}(e.books,e))},D=function(){return o.a.createElement("div",{className:"bookshelf_wrapper"},o.a.createElement("ul",{className:"books_list"},o.a.createElement("li",{className:"book_item first"}),o.a.createElement("li",{className:"book_item second"}),o.a.createElement("li",{className:"book_item third"}),o.a.createElement("li",{className:"book_item fourth"}),o.a.createElement("li",{className:"book_item fifth"}),o.a.createElement("li",{className:"book_item sixth"})),o.a.createElement("div",{className:"shelf"}))},H=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={error:null,errorInfo:null},a}return Object(k.a)(t,e),Object(h.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?o.a.createElement("div",null,o.a.createElement("h2",null,"Something went wrong."),o.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.state.error&&this.state.error.toString())):this.props.children}}]),t}(o.a.Component),F=function(e){console.log(e.books);var t=e.books,a=e.deleteBookmark;return o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h1",{className:"bookshelf__header"},"These are your favorite books:"),o.a.createElement("ul",{className:"bookshelf__list"},t&&t.map(function(e,t){return o.a.createElement("li",{className:"bookshelf__item",key:t},o.a.createElement("div",{className:"bookshelf__link"},o.a.createElement("span",{className:"bookshelf__title"},e.title),o.a.createElement("span",{className:"bookshelf__author"},e.authors),o.a.createElement("span",{className:"bookshelf__remove",onClick:function(){return a(t)}},"Remove"),o.a.createElement("button",{className:"bookshelf__btn"},o.a.createElement("a",{href:e.url,className:"bookshelf__a"},"More"))))})))},q=function(e){var t=e.show,a=e.onClose;return o.a.createElement(n.Fragment,null,t?o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"Modal__overlay",onClick:a}),o.a.createElement("div",{className:t?"Modal -in":"Modal -out"},e.children)):null)},Q=document.getElementById("modal"),M=function(e){return l.a.createPortal(o.a.createElement(q,e),Q)},R=function(e){var t=e.msg;return o.a.createElement("div",{className:"snackbar"},o.a.createElement("h2",{className:"snackbar__message"},t))},K=function(e){return JSON.parse(localStorage.getItem(e))},L=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},Y=function(e){return e.volumeInfo&&console.log(e.volumeInfo),{title:e.volumeInfo.title||"No Title",author:e.volumeInfo.authors||"Unknown Author",publisher:e.volumeInfo.publisher||"",description:e.volumeInfo.description||"No Description Available For This Book",url:e.volumeInfo.previewLink,img:e.volumeInfo.imageLinks&&(e.volumeInfo.imageLinks.thumbnail||e.volumeInfo.imageLinks[0])||""}},V=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={pastQueries:[],searchQuery:null,loadedBooks:null,bookShelf:[],error:null,loading:!1,showShelf:!1,showSnackbar:!1},a.deleteBookmark=function(e){var t=a.state.bookShelf;t=[].concat(Object(u.a)(t.slice(0,e)),Object(u.a)(t.slice(e+1))),a.setState({bookShelf:t}),L("shelf",t)},a.bookmarkHandler=function(e){var t=a.state.bookShelf;if(t.includes(function(t){return t.title===e.title}))return null;t=t.concat(e),L("shelf",t),a.setState({bookShelf:t,showSnackbar:!0}),setTimeout(function(){a.setState({showSnackbar:!1})},2300)},a.handleSearchQuery=function(){var e=Object(i.a)(c.a.mark(function e(t){var n,o,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=(n=a.state.pastQueries).concat(t)).length>=10&&n.shift(),L("queries",n),a.setState({loading:!0,pastQueries:n}),e.next=7,A.getBooks(t);case 7:(o=e.sent)instanceof Error&&a.setState({error:o.msg}),!o.length&&a.setState({error:"Did not find any books. no results"}),o.length&&(r=o.map(Y),a.setState({loadedBooks:r,loading:!1}),L("books",r));case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.openShelf=function(){a.setState({showShelf:!0})},a.closeShelf=function(){a.setState({showShelf:!1})},a}return Object(k.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=K("shelf"),t=K("books"),a=K("queries");this.setState({bookShelf:e||[],pastQueries:a||[],loadedBooks:t||null})}},{key:"render",value:function(){var e=this,t=this.state,a=t.showSnackbar,n=t.showShelf,r=t.bookShelf,l=t.pastQueries,s=t.loadedBooks,c=t.error,i=t.loading,u=s?o.a.createElement(H,null,o.a.createElement(T,{books:s,bookmarkHandler:this.bookmarkHandler})):i?o.a.createElement(D,null):null,m=c?o.a.createElement("h4",{style:{textAlign:"center",marginTop:"15px"}},c):null,h=a?o.a.createElement(R,{msg:"Added to your bookshelf!"}):null;return o.a.createElement("div",{className:"app"},o.a.createElement(b,{title:"Hook A Book"}),o.a.createElement(H,null,o.a.createElement(w,{getQueryRequest:this.handleSearchQuery,queries:l&&l}),o.a.createElement(M,{onClose:this.closeShelf,show:n},o.a.createElement(F,{deleteBookmark:this.deleteBookmark,books:r})),o.a.createElement("div",{className:"shelf__btn"},o.a.createElement("h4",{className:"shelf__label",onClick:e.openShelf},"My Shelf"))),m,u,h)}}]),t}(n.Component);l.a.render(o.a.createElement(V,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.ba7024e8.chunk.js.map